<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title><h1>전국 공장 유형</h1></title>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      google.charts.load('current', {'packages':['corechart']});

      google.charts.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table, 
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart(data) {
    	  data = eval(data);
    	  var data = google.visualization.arrayToDataTable(data);
    	    
    	        var options = {
    	          title: '서울 공장 유형',
    	        };

      // Instantiate and draw our chart, passing in some options.
      var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
      chart.draw(data, options);
      
    }
    </script>
  </head>

  <body>
  	 <div id="chart_div" style="width:400; height:400"></div>
  	<button onclick="jaxReq1()">공장 유형</button>
  	 <script type="text/javascript">
		function jaxReq1(){
			var xhttp = new XMLHttpRequest();
			
			xhttp.onreadystatechange = function(){
				if(this.readyState==4 & this.status==200){
					drawChart(this.responseText)
				}
			};
			xhttp.open("Get","pie1.jsp", true);
			xhttp.send();
		}
	</script>
  </body>
</html>