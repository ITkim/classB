<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title>Insert title here</title>
	
	<style>
	html,body{text-align:center;margin:0;padding:0;height:100%;}
	
	.header{width:100%;height:15%;
		background:black;
	}
	.nav{width:20%;height:85%;float:left;
		background:linear-gradient(to bottom,black,black);
	}
	nav>h2{
		text-align:center;
		color:#E0B94F;
	}
	.section{width:60%;height:85%;float:left;
		background:linear-gradient(to bottom,black,black);
		text-align:center;
	}

	.aside{width:20%;height:85%;float:left;
		background:black;
	}
	aside>h2{
		text-align:center;
		color:#E0B94F;
	}

</style>

	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart(data) {
    	  
		 data = eval(data);
         var data = google.visualization.arrayToDataTable(data);

        var options = { 
                       bar: { groupWidth: '50%' },
                    
                       isStacked: true
                       };
        var chart = new google.visualization.BarChart(document.getElementById('barchart_material'));
        chart.draw(data, options);
        
      }
    </script>
</head>

<body>
	<header class="header">
		<p><br><br><h1><font color="white">공장 등록 현황</font></h1></p>
	</header>
	
	<nav class="nav"><br>
		<h2><ul>MENU</ul></h2>
			<ul id="list">
			<button type="button" onclick="ajaxReq1()"><img src="img/menu1.png" width="120" height="120"></button><br>
			<button type="button" onclick="ajaxReq2()"><img src="img/menu2.png" width="120" height="120"></button><br>
			<button type="button" onclick="ajaxReq3()"><img src="img/menu3.png" width="120" height="120"></button><br>
			<button type="button" onclick="ajaxReq4()"><img src="img/menu4.png" width="120" height="120"></button><br>
			</ul>
		</nav>
	
	<section class="section">
	<br><br><br><br><br>
		<center><div id="barchart_material" style="width: 900px; height: 510px;"></div></center></p><br>
	</section>

	<aside class="aside"><br>
		<h2><ul>지역별 제조업 현황</ul></h2>
			<ul>
				 <button type="button" onclick="javascript:location.href='index.html'"><img src="img/barobaro.png" width="120" height="120"></button><br>
			</ul>
	</aside>

	<script type="text/javascript" charset="utf-8">
		function ajaxReq1(){
			var xhttp = new XMLHttpRequest();
			
			xhttp.onreadystatechange = function(){
				if(this.readyState==4 & this.status==200){
					drawChart(this.responseText)
				}
			};
			xhttp.open("get","chartRes1.jsp", true);
			xhttp.send();
			
		}
		function ajaxReq2(){
			var xhttp = new XMLHttpRequest();
			
			xhttp.onreadystatechange = function(){
				if(this.readyState==4 & this.status==200){
					drawChart(this.responseText)
				}
			};
			xhttp.open("Get","chartRes2.jsp", true);
			xhttp.send();
		}
		function ajaxReq3(){
			var xhttp = new XMLHttpRequest();
			
			xhttp.onreadystatechange = function(){
				if(this.readyState==4 & this.status==200){
					drawChart(this.responseText)
				}
			};
			xhttp.open("Get","chartRes3.jsp", true);
			xhttp.send();
		}
		function ajaxReq4(){
			var xhttp = new XMLHttpRequest();
			
			xhttp.onreadystatechange = function(){
				if(this.readyState==4 & this.status==200){
					drawChart(this.responseText)
				}
			};
			xhttp.open("Get","chartRes4.jsp", true);
			xhttp.send();
		}
		
	</script>

</body>
</html>